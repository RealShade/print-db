## Print DB

Органайзер для роботи з 3Д друком.
Включає в себе:
- Список принтерів
- Список завдань
- Список частин

Назва файлу містить:

[t#**9999**(x**1**)@**external_id**] або [t_**назва завдання**(x**1**)@**external_id**]
* t#**ади завдання**
* t_**назва завдання**
* (x**кількість**) - скільки комплектів наразі друкується. За замовчуванням 1
* @**external_id** - зовнішній айді завдання для звуження пошуку або для подробиць при створенні нової задачі. За замовчуванням - null

* назва задачі не є унікальною, тому в розрізі користувача може бути кілька задач з однаковими назвами. При пошуку за назвою враховуються тільки незавершені задачі. Якщо такий пошук дає декілька результатів, то береться найновіше завдання
* в назві може бути тільки 1 завдання, але декілька частин
* при автоматичному створенні завдання, цільова кількість вказується 0
* при автоматичному створенні частин, комплектна кількість вказується 1

[p#**9999**(x**1**)@**version**] або [p_**назва частини**(x**1**)@**version**]
* p#**айді частини**
* p_**назва частини**
* (x**кількість**) - скільки частин наразі друкується. За замовчуванням 1
* @**version** - версія частини для звуження пошуку або для подробиць при створенні нової частини. За замовчуванням - v0. Це строка, може містити букви, цифри, символи. Окрім пробілів. Якщо в назві частини є пробіли, то вони замінюються на "_".
* назва частини + version - є унікальною зв'язкою в розрізі користувача

[t#**айді завдання**]
* шукається завдання з таким айді серед незавершених, якщо не знайдено - ігнорувати (сповіщення)
* якщо знайдено та не вказано кількість чи частини, вважати як 1 повний комплект
* якщо знайдено та вказані айді частин, яких немає в завданні - прикріпляти знайдені у системі (сповіщення) з 1 шт в комплекті, решту ігнорувати (сповіщення)
* якщо знайдено та вказані назви частин, яких немає в завданні - шукати за назвою та прикріпляти (сповіщення). Якщо назви не знайдено - створювати нові та прикріпляти (сповіщення)

[t_**назва завдання**]
* шукається завдання з такою назвою серед незавершених, якщо не знайдено - створюється нове (сповіщення)
* <sup>(1)</sup> якщо не вказано частини - створюється частина "айді завдання_main part" та прикріплюється (сповіщення)
* якщо вказано айді частин та знайдено - прикріпляти (сповіщення), інакше ігнорувати (сповіщення)

Якщо в завданні вказано кількість комплектів:
* якщо завдання знайдено та в назві друку вказано частини, то вони ігноруються (сповіщення)
* якщо завдання автоматично створено та не вказано частини, див (1)
* якщо завдяння автоматично створено та вказано частини, то їх кількість ділиться на кількість комплектів для обчислення комплектації і якщо результат не є ціле число - помилка (сповіщення). Якщо кількість частин не вказана, вважати по 1 шт в комплекті

Якщо не вказано завдання, але вказано частини:
* шукаються частини з такими айді або назвою серед незавершених завдань, якщо не знайдено - ігнорувати (сповіщення)
* автоматичного створення немає, тому що немає дло чого прив'язувати частини

Події апі:
* **початок друку** - для створення задач та частин, перевірка переданих даних. Сповіщення, якщо друк завершить завдання (чи частину завдання)
* **закінчення друку** - інкрементація надрукованих частин завдання. Сповіщення про завершення завдання (чи частини завдання)
* **отримання списку завдань та прив'язаних частин**
* **отримання вказаного завдання з прив'язаними частинами**

На апі передається назва файлу, з якого зчитуються дані, та айди принтеру (не обов'язково).
